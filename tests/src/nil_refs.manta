// examples/nil_refs.manta

// maybe_alloc allocates memory for an i32 if cond is true
fn maybe_alloc(cond bool) *i32 {
    if cond {
        p := new(i32)
        *p = 42
        return p
    }
    
    return nil
}

fn main() {
    p := maybe_alloc(false)
    if p != nil {
        print(*p)
        free(p)
    } else {
        print("no allocation")
    }
}
